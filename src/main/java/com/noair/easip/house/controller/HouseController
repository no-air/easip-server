package com.noair.easip.house.controller;

import com.noair.easip.house.controller.dto.HouseDetailResponse;
import com.noair.easip.house.controller.dto.HouseSummaryResponse;
import com.noair.easip.util.PaginationDto;
import com.noair.easip.util.PaginationResponse;
import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.Parameter;
import io.swagger.v3.oas.annotations.tags.Tag;
import jakarta.validation.constraints.Min;
import lombok.RequiredArgsConstructor;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@Tag(name = "주택 API")
@RestController
@RequiredArgsConstructor
@Validated
@RequestMapping("/v1/houses")
public class HouseController {

    @Operation(summary = "[MOCK] 지도 기반 주택 목록 조회")
    @GetMapping("/map")
    ArrayResponse<HouseSummaryResponse> getHouseListInMap(
        @Parameter(description = "취소 위도", example = "37.5665")
        @RequestParam
        Double minLatitude,

        @Parameter(description = "취소 경도", example = "126.978")
        @RequestParam
        Double minLongitude,

        @Parameter(description = "최대 위도", example = "37.5665")
        @RequestParam
        Double maxLatitude,

        @Parameter(description = "최대 경도", example = "126.978")
        @RequestParam
        Double maxLongitude
    ) {
        return ArrayResponse.of(
            List.of(
                HouseSummaryResponse.of(
                    "01HGW2N7EHJVJ4CJ999RRS2E97",
                        "https://soco.seoul.go.kr/cohome/cmmn/file/fileDown.do?atchFileId=356f0ab9e20e42f88b4c06e1c18e46ad&fileSn=12",
                        "KRX한국거래소",
                        "청약예정",
                        "영등포구",
                        37.522875991257024,
                        126.92803891060132
                    )
                ),
                HouseSummaryResponse.of(
                    "01HGW2N7EHJVJ4CJ999RRS2E91",
                    "https://soco.seoul.go.kr/cohome/cmmn/file/fileDown.do?atchFileId=356f0ab9e20e42f88b4c06e1c18e46ad&fileSn=12",
                    "코스콤 신사옥",
                    "청약예정",
                    "영등포구",
                    37.52166435840751,
                    126.92839358143895
                ),
                HouseSummaryResponse.of(
                    "01HGW2N7EHJVJ4CJ999RRS2E92",
                    "https://soco.seoul.go.kr/cohome/cmmn/file/fileDown.do?atchFileId=356f0ab9e20e42f88b4c06e1c18e46ad&fileSn=12",
                    "더현대 서울",
                    "청약예정",
                    "영등포구",
                    37.52588558605109,
                    126.92844611120303
                )
            )
        );
    }
}
